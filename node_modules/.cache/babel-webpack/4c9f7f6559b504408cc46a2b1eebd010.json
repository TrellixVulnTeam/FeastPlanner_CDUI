{"ast":null,"code":"import _asyncToGenerator from \"/Users/bettinakincsobordas/Desktop/GitHub/FeastPlanner/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@okta/okta-angular\";\nimport * as i2 from \"../services/menu.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../services/recipe.service\";\nimport * as i5 from \"@angular/common\";\n\nfunction HeaderComponent_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 8);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_11_Template_li_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.navigate(\"/login\");\n    });\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HeaderComponent_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 9);\n    i0.ɵɵelementStart(1, \"a\", 10);\n    i0.ɵɵelement(2, \"span\", 11);\n    i0.ɵɵelement(3, \"span\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\", 13);\n    i0.ɵɵelementStart(5, \"li\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"li\", 14);\n    i0.ɵɵelementStart(8, \"li\", 8);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_12_Template_li_click_8_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.navigate(\"/menus\");\n    });\n    i0.ɵɵtext(9, \"Your menus\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"li\", 14);\n    i0.ɵɵelementStart(11, \"li\", 8);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_12_Template_li_click_11_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.logOut();\n    });\n    i0.ɵɵtext(12, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Signed in as \", ctx_r1.userFullName, \"\");\n  }\n}\n\nexport class HeaderComponent {\n  constructor(oktaAuthService, menuService, router, recipeService) {\n    this.oktaAuthService = oktaAuthService;\n    this.menuService = menuService;\n    this.router = router;\n    this.recipeService = recipeService;\n    this.isAuthenticated = false;\n    this.userFullName = \"\"; // this.oktaAuthService.$authenticationState.subscribe(\n    //     isAuth => this.isAuthenticated = isAuth\n    // );\n    //\n    // this.oktaAuthService.isAuthenticated().then(\n    //     (isAuthenticated) => {\n    //         this.isAuthenticated = isAuthenticated;\n    //         console.log(isAuthenticated, 'auth');\n    //         if (this.isAuthenticated) {\n    //             this.oktaAuthService.getUser().then(\n    //                 (user) => {\n    //                     this.userFullName = user.name || \"\";\n    //                     console.log(user.name);\n    //                 }\n    //             );\n    //         }\n    //     }\n    // );\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      // this.isAuthenticated = await this.oktaAuthService.isAuthenticated()\n      // if (this.isAuthenticated) {\n      //     const userClaims = await this.oktaAuthService.getUser();\n      //     this.userFullName = userClaims.name || \"\";\n      //     console.log(userClaims.name);\n      // }\n      _this.oktaAuthService.$authenticationState.subscribe(result => {\n        _this.isAuthenticated = result;\n\n        _this.getUserDetails();\n      });\n    })();\n  }\n\n  getUserDetails() {\n    if (this.isAuthenticated) {\n      this.oktaAuthService.getUser().then(res => {\n        this.userFullName = res.name;\n        this.menuService.userSubject.next(res.email);\n      });\n    }\n  }\n\n  logOut() {\n    this.recipeService.onDisplayChange.next('select');\n    this.oktaAuthService.signOut();\n  }\n\n  navigate(url) {\n    this.recipeService.onDisplayChange.next('select');\n    this.router.navigateByUrl(url);\n  }\n\n}\n\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.OktaAuthService), i0.ɵɵdirectiveInject(i2.MenuService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.RecipeService));\n};\n\nHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderComponent,\n  selectors: [[\"app-header\"]],\n  decls: 13,\n  vars: 2,\n  consts: [[\"id\", \"header-container\"], [\"src\", \"https://www.spicejungle.com/wp/files/2015/10/how-to-properly-store-spices.jpg\"], [\"id\", \"my-navbar\"], [\"id\", \"ul-left\"], [1, \"nav-left-li\", 3, \"click\"], [\"id\", \"il-right\"], [3, \"click\", 4, \"ngIf\"], [\"class\", \"dropdown\", 4, \"ngIf\"], [3, \"click\"], [1, \"dropdown\"], [\"data-toggle\", \"dropdown\", \"role\", \"button\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"dropdown-toggle\"], [1, \"glyphicon\", \"glyphicon-user\"], [1, \"caret\"], [1, \"dropdown-menu\"], [\"role\", \"separator\", 1, \"divider\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"nav\", 2);\n      i0.ɵɵelementStart(3, \"ul\", 3);\n      i0.ɵɵelementStart(4, \"li\", 4);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_li_click_4_listener() {\n        return ctx.navigate(\"/\");\n      });\n      i0.ɵɵelementStart(5, \"h1\");\n      i0.ɵɵtext(6, \"Feast Planner\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"li\", 4);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_li_click_7_listener() {\n        return ctx.navigate(\"/recipes\");\n      });\n      i0.ɵɵelementStart(8, \"p\");\n      i0.ɵɵtext(9, \"Recipes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"ul\", 5);\n      i0.ɵɵtemplate(11, HeaderComponent_li_11_Template, 3, 0, \"li\", 6);\n      i0.ɵɵtemplate(12, HeaderComponent_li_12_Template, 13, 1, \"li\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n    }\n  },\n  directives: [i5.NgIf],\n  styles: [\"#header-container[_ngcontent-%COMP%] {\\n    \\n    \\n    height: 170px;\\n    position: relative;\\n    margin-bottom: 20px;\\n}\\nimg[_ngcontent-%COMP%] {\\n    width:100%;\\n    height: 170px;\\n    -o-object-position: 0px 65%;\\n       object-position: 0px 65%;\\n    -o-object-fit: cover;\\n       object-fit: cover;\\n\\n\\n}\\n#my-navbar[_ngcontent-%COMP%] {\\n    background-image: linear-gradient(to bottom, rgba(255,0,0,0), rgba(255,255,255,1));\\n    width: 100%;\\n    height: 80px;\\n    position: absolute;\\n    bottom: 0;\\n    margin: 0px;\\n    border: none;\\n\\n}\\n.nav-left-li[_ngcontent-%COMP%] {\\n    display: inline-block;\\n}\\n#ul-left[_ngcontent-%COMP%] {\\n    float: left;\\n    position: absolute;\\n    bottom: 5px;\\n    left: 20px;\\n}\\n#il-right[_ngcontent-%COMP%] {\\n    float: right;\\n}\\np[_ngcontent-%COMP%], a[_ngcontent-%COMP%] {\\n    color: black;\\n    font-weight: bolder;\\n    font-size: 24px;\\n    font-weight: bolder;\\n}\\nspan[_ngcontent-%COMP%] {\\n    color: black;\\n    font-size: 28px;\\n}\\nh1[_ngcontent-%COMP%] {\\n    color: black;\\n    font-weight: bolder;\\n    font-style: italic;\\n    font-size: 42px;\\n    margin-right: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksbUNBQW1DO0lBQ25DLHlHQUF5RztJQUN6RyxhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0ksVUFBVTtJQUNWLGFBQWE7SUFDYiwyQkFBd0I7T0FBeEIsd0JBQXdCO0lBQ3hCLG9CQUFpQjtPQUFqQixpQkFBaUI7OztBQUdyQjtBQUVBO0lBQ0ksa0ZBQWtGO0lBQ2xGLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0lBQ1gsWUFBWTs7QUFFaEI7QUFFQTtJQUNJLHFCQUFxQjtBQUN6QjtBQUVBO0lBQ0ksV0FBVztJQUNYLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsVUFBVTtBQUNkO0FBRUE7SUFDSSxZQUFZO0FBQ2hCO0FBRUE7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixtQkFBbUI7QUFDdkI7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0FBQ25CO0FBRUE7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCIiwiZmlsZSI6ImhlYWRlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2hlYWRlci1jb250YWluZXIge1xuICAgIC8qYmFja2dyb3VuZC1jb2xvcjogcGFsZXZpb2xldHJlZDsqL1xuICAgIC8qYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiaHR0cHM6Ly9pLnBpbmltZy5jb20vb3JpZ2luYWxzLzRkLzZjLzJiLzRkNmMyYmVkOGQzMGVlMTgxNDk0OWU2NTIyYzgwMDA5LmpwZ1wiKTsqL1xuICAgIGhlaWdodDogMTcwcHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5pbWcge1xuICAgIHdpZHRoOjEwMCU7XG4gICAgaGVpZ2h0OiAxNzBweDtcbiAgICBvYmplY3QtcG9zaXRpb246IDBweCA2NSU7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG5cblxufVxuXG4jbXktbmF2YmFyIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKDI1NSwwLDAsMCksIHJnYmEoMjU1LDI1NSwyNTUsMSkpO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogODBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiAwO1xuICAgIG1hcmdpbjogMHB4O1xuICAgIGJvcmRlcjogbm9uZTtcblxufVxuXG4ubmF2LWxlZnQtbGkge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuI3VsLWxlZnQge1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDVweDtcbiAgICBsZWZ0OiAyMHB4O1xufVxuXG4jaWwtcmlnaHQge1xuICAgIGZsb2F0OiByaWdodDtcbn1cblxucCwgYSB7XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gICAgZm9udC1zaXplOiAyNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG59XG5cbnNwYW4ge1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBmb250LXNpemU6IDI4cHg7XG59XG5cbmgxIHtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgZm9udC1zaXplOiA0MnB4O1xuICAgIG1hcmdpbi1yaWdodDogMzBweDtcbn1cblxuXG4iXX0= */\"]\n});","map":{"version":3,"sources":["/Users/bettinakincsobordas/Desktop/GitHub/FeastPlanner/src/app/header/header.component.ts","/Users/bettinakincsobordas/Desktop/GitHub/FeastPlanner/src/app/header/header.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {OktaAuthService} from \"@okta/okta-angular\";\nimport {MenuService} from \"../services/menu.service\";\nimport {Router} from \"@angular/router\";\nimport {RecipeService} from \"../services/recipe.service\";\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n\n  isAuthenticated: boolean = false;\n  userFullName: string = \"\";\n\n  constructor(private oktaAuthService: OktaAuthService,\n              private menuService: MenuService,\n              private router: Router,\n              private recipeService: RecipeService) {\n      // this.oktaAuthService.$authenticationState.subscribe(\n      //     isAuth => this.isAuthenticated = isAuth\n      // );\n      //\n      // this.oktaAuthService.isAuthenticated().then(\n      //     (isAuthenticated) => {\n      //         this.isAuthenticated = isAuthenticated;\n      //         console.log(isAuthenticated, 'auth');\n      //         if (this.isAuthenticated) {\n      //             this.oktaAuthService.getUser().then(\n      //                 (user) => {\n      //                     this.userFullName = user.name || \"\";\n      //                     console.log(user.name);\n      //                 }\n      //             );\n      //         }\n      //     }\n      // );\n  }\n\n  async ngOnInit() {\n\n      // this.isAuthenticated = await this.oktaAuthService.isAuthenticated()\n\n      // if (this.isAuthenticated) {\n      //     const userClaims = await this.oktaAuthService.getUser();\n      //     this.userFullName = userClaims.name || \"\";\n      //     console.log(userClaims.name);\n      // }\n\n\n\n    this.oktaAuthService.$authenticationState.subscribe(\n        (result) => {\n          this.isAuthenticated = result;\n          this.getUserDetails();\n        }\n    )\n   }\n\n  private getUserDetails() {\n    if (this.isAuthenticated) {\n      this.oktaAuthService.getUser().then(\n          (res) => {\n            this.userFullName = res.name;\n            this.menuService.userSubject.next(res.email);\n          }\n      );\n    }\n   }\n\n  private logOut() {\n      this.recipeService.onDisplayChange.next('select');\n      this.oktaAuthService.signOut();\n  }\n\n    navigate(url: string) {\n      this.recipeService.onDisplayChange.next('select');\n      this.router.navigateByUrl(url);\n    }\n}\n","<div id=\"header-container\">\n    <img src=\"https://www.spicejungle.com/wp/files/2015/10/how-to-properly-store-spices.jpg\">\n    <nav id=\"my-navbar\">\n<!--        <div class=\"container-fluid\">-->\n<!--            <div class=\"collapse navbar-collapse\">-->\n                <ul id=\"ul-left\">\n                    <li class=\"nav-left-li\" (click)=\"navigate('/')\"><h1>Feast Planner</h1></li>\n                    <li class=\"nav-left-li\" (click)=\"navigate('/recipes')\"><p>Recipes</p></li>\n                </ul>\n                <ul id=\"il-right\">\n                    <li *ngIf=\"!isAuthenticated\" (click)=\"navigate('/login')\"><p>Login</p></li>\n                    <li *ngIf=\"isAuthenticated\" class=\"dropdown\">\n                        <!--                <li class=\"dropdown\">-->\n                        <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\"><span class=\"glyphicon glyphicon-user\"></span> <span class=\"caret\"></span></a>\n                        <ul class=\"dropdown-menu\">\n                            <li>Signed in as {{userFullName}}</li>\n                            <li role=\"separator\" class=\"divider\"></li>\n                            <li (click)=\"navigate('/menus')\">Your menus</li>\n                            <li role=\"separator\" class=\"divider\"></li>\n                            <li (click)=\"logOut()\">Logout</li>\n                        </ul>\n                    </li>\n                </ul>\n<!--            </div>&lt;!&ndash; /.navbar-collapse &ndash;&gt;-->\n<!--        </div>&lt;!&ndash; /.container-fluid &ndash;&gt;-->\n    </nav>\n</div>\n\n\n\n\n\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}